(this.webpackJsonpnewshomework=this.webpackJsonpnewshomework||[]).push([[0],{37:function(e,t,n){e.exports=n(68)},42:function(e,t,n){},43:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),c=n.n(o),l=n(8),u=(n(42),n(10)),i=(n(43),n(44),n(13)),s=n.n(i),m=n(15),h=n(16),p=n(17),b=n(19),f=n(18),E=n(20),d=n(11),v=n.n(d),k=n(9);function w(e){return v.a.get("".concat("https://shaibanihomework.herokuapp.com/api/v1","/books/").concat(e)).then((function(e){return e.data})).catch((function(e){Promise.reject(e)}))}var y=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(b.a)(this,Object(f.a)(t).call(this))).deleteBook=function(t){var n,a=e.state.books,r=e.state.books.filter((function(e){return e._id!==t}));e.setState({books:r}),(n=t,v.a.delete("".concat("https://shaibanihomework.herokuapp.com/api/v1","/books/").concat(n)).then((function(e){return e.data})).catch((function(e){Promise.reject(e)}))).then((function(e){})).catch((function(t){k.b.error("Error "),e.setState({books:a})}))},e.state={books:[],deleted:!1},e}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://shaibanihomework.herokuapp.com/api/v1",e.prev=1,e.next=5,v.a.get("".concat("https://shaibanihomework.herokuapp.com/api/v1","/books"));case 5:t=e.sent,this.setState({books:t.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.books;return r.a.createElement("section",null,r.a.createElement("h2",null,"Data of Books: Select"),r.a.createElement("table",{style:{borderCollapse:"collapse"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No."),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Author"),r.a.createElement("th",null,"Publisher"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,t.map((function(t,n){return r.a.createElement("tr",{key:1},r.a.createElement("td",null," ",n+1," ","   "," "),r.a.createElement("td",null," ",t.title," ","   "," "),r.a.createElement("td",null," ",t.author," ","   "," "),r.a.createElement("td",null," ",t.publisher),r.a.createElement("td",null,r.a.createElement(l.b,{to:"/home/".concat(t._id),className:"link"},"Modify")," |",r.a.createElement("button",{onClick:function(){return e.deleteBook(t._id)},className:"link"},"Delete")))})),r.a.createElement("tr",null))))}}]),t}(a.Component);function O(){return r.a.createElement("header",null,r.a.createElement("div",{className:"title"},r.a.createElement(l.b,{to:"/"},r.a.createElement("h1",null,"CRUD MySQLi ( Procedural ) "))),r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.b,{to:"/",className:"link"},"Home")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/home/new",className:"link"},"Insert")))))}var j=function(e){return r.a.createElement("footer",{className:"footer"},r.a.createElement("a",{href:"http://www.ust.edu/ustj/component/k2/item/2437-"}," ","Copyright \xa9 2016 Mohammed Aqlan, UST"," "))},g=n(36);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){Object(g.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(b.a)(this,Object(f.a)(t).call(this))).onChange=function(t){var n=P({},e.state.data);n[t.currentTarget.name]=t.currentTarget.value,e.setState({data:n})},e.onSuccess=function(){k.b.success("Success: Redirecting..."),setTimeout((function(){window.location="/"}),1e3)},e.onSubmit=function(t){t.preventDefault();var n=P({},e.state.data),a=e.props.match.params.id;"new"!==a?function(e,t){return v.a.patch("".concat("https://shaibanihomework.herokuapp.com/api/v1","/books/").concat(t),{bookData:e}).then((function(e){return e.data})).catch((function(e){Promise.reject(e)}))}(n,a).then((function(t){e.onSuccess()})).catch((function(e){k.b.error("Error ")})):function(e){return v.a.post("".concat("https://shaibanihomework.herokuapp.com/api/v1","/books/"),{bookData:e}).then((function(e){return e.data})).catch((function(e){return Promise.reject(e)}))}(n).then((function(t){e.onSuccess()})).catch((function(e){k.b.error("Error ")}))},e.state={data:{title:"",author:"",publisher:""},success:!1},e}return Object(E.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(s.a.mark((function e(){var t,n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("new"!==(t=this.props.match.params.id)){e.next=3;break}return e.abrupt("return");case 3:w(t).then((function(e){n.setState({data:e})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.data,n=t.title,a=t.author,o=t.publisher,c=e.success;return r.a.createElement("section",null,r.a.createElement("div",{className:"has-form"},r.a.createElement("h2",null,"Data of Books"),c&&r.a.createElement("p",{className:"message"},"Save success"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("label",null,"Title",r.a.createElement("input",{type:"text",name:"title",required:!0,value:n,onChange:this.onChange})),r.a.createElement("br",null),r.a.createElement("label",null,"Author",r.a.createElement("input",{type:"text",name:"author",required:!0,value:a,onChange:this.onChange})),r.a.createElement("br",null),r.a.createElement("label",null,"Publisher",r.a.createElement("input",{type:"text",name:"publisher",required:!0,value:o,onChange:this.onChange})),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",name:"save",value:"Save",className:"link"}))))}}]),t}(a.Component);var D=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null," NotFound "))};var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(k.a,null),r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/home/:id",component:C}),r.a.createElement(u.b,{exact:!0,path:"/home",component:y}),r.a.createElement(u.b,{path:"/notFound",component:D}),r.a.createElement(u.a,{from:"/",to:"/home"}),r.a.createElement(u.a,{to:"/notFound"})),r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.aec3898f.chunk.js.map